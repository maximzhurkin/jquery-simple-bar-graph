!function(a){var e;e={init:function(i,s){a(i[0]).find(".simple-bar-graph").length?(a.each(a(i[0]).find(".simple-bar-graph__bar"),function(){a(this).css({height:"0%","transition-delay":"0s"})}),setTimeout(function(){e.render(i,s)},30*a(i[0]).find(".simple-bar-graph__bar").length)):e.render(i,s)},render:function(i,s){var r,t,p,n,l,h,o;n=e.getMaxValue(s.data),t=(100/s.data.length).toFixed(3).slice(0,-1)+"%",o=(100/s.rowsCount).toFixed(3).slice(0,-1)+"%",l=n/s.rowsCount,h=e.getRows(s.rowsCount,o,l,n),r=e.getColumns(s.rowCaptionsWidth,s.height,s.data,n,t,s.barsColor,s.popups),p=a("<div/>",{class:"simple-bar-graph"}),p.append(h),p.append(r),a(i[0]).html(p),a.each(a(i[0]).find(".simple-bar-graph__bar"),function(){a(this).height(a(this).data("height"))})},getMaxValue:function(e){var i;return i=0,a.each(e,function(a,e){e.value>i&&(i=e.value)}),i},bindBar:function(e){e.hover(function(){a(this).addClass("simple-bar-graph__bar--active")},function(){a(this).removeClass("simple-bar-graph__bar--active")})},getRows:function(e,i,s,r){var t,p,n;for(n=e-1,p=a("<div/>",{class:"simple-bar-graph__rows"}).append(a("<div/>",{class:"simple-bar-graph__row",css:{height:i}}).append(a("<div/>",{class:"simple-bar-graph__value",text:r})));n>0;)t=parseInt(s*n*10)/10,p.append(a("<div/>",{class:"simple-bar-graph__row",css:{height:i}}).append(a("<div/>",{class:"simple-bar-graph__value",text:t.toString()}))),n--;return p.append(a("<div/>",{class:"simple-bar-graph__null"}).append(a("<div/>",{class:"simple-bar-graph__value",text:0}))),p},getColumns:function(i,s,r,t,p,n,l){var h,o,d,c,g;for(g=0,c=a("<div/>",{class:"simple-bar-graph__columns",css:{"padding-right":i,height:s}});g<r.length;)d=(r[g].value/t*100).toFixed(3).slice(0,-1)+"%",o=a("<div/>",{class:"simple-bar-graph__column",css:{width:p}}),h=a("<div/>",{class:"simple-bar-graph__bar",css:{height:"0%"},"data-height":d}),n&&h.css("background-color",n),l&&h.append(a("<div/>",{class:"simple-bar-graph__popup",text:r[g].value})),e.bindBar(h),o.append(h),o.append(a("<div/>",{class:"simple-bar-graph__caption",text:r[g].key})),c.append(o),g++;return c}},jQuery.fn.simpleBarGraph=function(i){i=a.extend({data:[],rowsCount:5,height:"300px",rowCaptionsWidth:"16px",barsColor:"",popups:!0},i),e.init(this,i)}}(jQuery);